---
import PageLayout from '../../layouts/PageLayout.astro';
import PostList from '../../components/blog/PostList.astro';
import TagList from '../../components/blog/TagList.astro';
import { getCollection } from 'astro:content';

const posts = await getCollection('blog');
const allTags = posts.flatMap((post) => post.data.tags);
---

<PageLayout title="Blog" description="Thoughts on web development, design, and building things.">
  <div class="container section-gap">
    <header class="blog-header">
      <h1 class="text-2xl text-hand">Blog</h1>
      <p class="text-muted text-hand mt-sm">Thoughts on web development, design, and building things.</p>
    </header>

    <TagList tags={allTags} />

    <div class="mt-lg">
      <PostList posts={posts} />
    </div>
  </div>
</PageLayout>

<style>
  .blog-header {
    margin-bottom: var(--space-lg);
  }
</style>
