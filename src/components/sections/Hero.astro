---
import SketchButton from '../ui/SketchButton.astro';
import SketchArrow from '../sketch/SketchArrow.astro';
import { SITE } from '../../lib/constants';
---

<section class="hero section-gap" aria-label="Introduction">
  <div class="hero__content container">
    <div class="hero__text">
      <p class="hero__greeting text-hand text-muted">Hi, I'm</p>
      <h1 class="hero__name">{SITE.author}</h1>
      <p class="hero__title">
        <span class="hero__title-text" id="hero-title">Business & Product Analyst</span>
      </p>
      <p class="hero__pitch">
        I transform complex data into actionable insights and drive strategic decision-making. UBC MBAN candidate with experience in wealth management analytics, data visualization, and cross-functional collaboration.
      </p>
      <div class="hero__actions">
        <SketchButton href="/#projects">
          View Projects
          <SketchArrow direction="down" size={20} />
        </SketchButton>
        <SketchButton href={SITE.socialLinks.linkedin || '#'} variant="secondary" target="_blank" rel="noopener">
          LinkedIn
        </SketchButton>
      </div>
    </div>

    <div class="hero__deco" aria-hidden="true">
      <svg width="200" height="200" viewBox="0 0 200 200" fill="none" class="hero-deco-svg">
        <path
          class="hero-deco-circle-outer"
          d="M100,20 C140,18 175,45 180,85 C185,125 165,165 125,178 C85,191 40,175 25,140 C10,105 20,55 55,35 C75,23 90,20 100,20"
          stroke="var(--color-stroke-muted)"
          stroke-width="1.5"
          fill="none"
          opacity="0.3"
          pathLength="1000"
        />
        <path
          class="hero-deco-circle-inner"
          d="M100,50 C125,48 150,65 152,90 C154,115 138,140 115,148 C92,156 65,145 55,122 C45,99 55,65 78,53 C88,48 95,49 100,50"
          stroke="var(--color-accent)"
          stroke-width="1"
          fill="none"
          opacity="0.2"
          stroke-dasharray="4 4"
          pathLength="1000"
        />
        <circle class="hero-deco-dot hero-deco-dot-1" cx="60" cy="40" r="3" fill="var(--color-fill-1)" opacity="0.4" />
        <circle class="hero-deco-dot hero-deco-dot-2" cx="150" cy="60" r="4" fill="var(--color-fill-3)" opacity="0.4" />
        <circle class="hero-deco-dot hero-deco-dot-3" cx="140" cy="150" r="3" fill="var(--color-fill-4)" opacity="0.4" />
        <circle class="hero-deco-dot hero-deco-dot-4" cx="45" cy="130" r="5" fill="var(--color-fill-5)" opacity="0.3" />
      </svg>
    </div>
  </div>
</section>

<style>
  .hero__content {
    display: flex;
    align-items: center;
    justify-content: space-between;
    gap: var(--space-xl);
    min-height: 60vh;
  }

  .hero__text {
    max-width: 600px;
  }

  .hero__greeting {
    font-size: var(--text-lg);
    margin-bottom: var(--space-xs);
  }

  .hero__name {
    font-size: var(--text-3xl);
    margin-bottom: var(--space-sm);
    line-height: 1.1;
  }

  .hero__title {
    font-family: var(--font-hand);
    font-size: var(--text-2xl);
    color: var(--color-accent);
    margin-bottom: var(--space-md);
  }

  .hero__title-text {
    position: relative;
  }

  .hero__pitch {
    font-size: var(--text-lg);
    color: var(--color-text-muted);
    line-height: 1.7;
    margin-bottom: var(--space-lg);
    max-width: 50ch;
  }

  .hero__actions {
    display: flex;
    gap: var(--space-md);
    flex-wrap: wrap;
  }

  .hero__deco {
    flex-shrink: 0;
  }

  @media (max-width: 768px) {
    .hero__content {
      flex-direction: column;
      text-align: center;
      min-height: auto;
      padding-block: var(--space-xl);
    }

    .hero__pitch {
      max-width: none;
    }

    .hero__actions {
      justify-content: center;
    }

    .hero__deco {
      display: none;
    }
  }

  /* SVG Animation Styles */
  .hero-deco-svg {
    transform-origin: center center;
  }

  .hero-deco-circle-outer {
    --final-opacity: 0.3;
    transform-origin: center;
    animation:
      sketch-draw-circle 2s ease-out 0.2s both,
      sketch-orbit 12s linear 2.5s infinite;
  }

  .hero-deco-circle-inner {
    --final-opacity: 0.2;
    transform-origin: center;
    animation:
      sketch-draw-circle 2s ease-out 0.6s both,
      sketch-pulse 4s ease-in-out 2.5s infinite;
  }

  .hero-deco-dot {
    transform-origin: center;
  }

  .hero-deco-dot-1 {
    --final-opacity: 0.4;
    animation:
      sketch-dot-appear 0.6s ease-out 1s both,
      sketch-float 3.5s ease-in-out 1.8s infinite;
  }

  .hero-deco-dot-2 {
    --final-opacity: 0.4;
    animation:
      sketch-dot-appear 0.6s ease-out 1.2s both,
      sketch-float-alt 4.2s ease-in-out 2s infinite;
  }

  .hero-deco-dot-3 {
    --final-opacity: 0.4;
    animation:
      sketch-dot-appear 0.6s ease-out 1.4s both,
      sketch-float 3.8s ease-in-out 2.2s infinite;
  }

  .hero-deco-dot-4 {
    --final-opacity: 0.3;
    animation:
      sketch-dot-appear 0.6s ease-out 1.6s both,
      sketch-float-alt 5s ease-in-out 2.4s infinite;
  }
</style>
