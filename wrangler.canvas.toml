name = "ai-canvas"
compatibility_date = "2025-01-20"
compatibility_flags = ["nodejs_compat"]
pages_build_output_dir = "./dist"

# D1 Database binding (shared with main site)
[[d1_databases]]
binding = "DB"
database_name = "astroweb-db"
database_id = "1daa4434-4ec6-472d-8bf9-ab6e71c11dbf"

# KV Namespaces (shared with main site)
[[kv_namespaces]]
binding = "SESSION_KV"
id = "2e40b52270bb4622873e0ba5c545a922"

[[kv_namespaces]]
binding = "RATE_LIMIT_KV"
id = "598df9d2488549df9929db888147772f"

# R2 Bucket binding (shared with main site)
[[r2_buckets]]
binding = "CANVAS_STORAGE"
bucket_name = "astroweb-canvases"
preview_bucket_name = "astroweb-canvases-preview"

# Environment variables (secrets should be set via wrangler pages secret put)
[env.production]
BETTER_AUTH_URL = "https://canvas.rohanjasani.com"
